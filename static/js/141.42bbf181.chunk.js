"use strict";(self.webpackChunkabz_agency_styled_components=self.webpackChunkabz_agency_styled_components||[]).push([[141],{4896:function(n,e,r){r.r(e),r.d(e,{default:function(){return W}});r(6039);var t,i,a,o,s,c,l,u=r(1413),d=r(4925),p=r(5227),f=r(4855),m=r(184),h=["children"],g=new p.S,x=function(n){var e=n.children,r=(0,d.Z)(n,h);return(0,m.jsx)(f.aH,(0,u.Z)((0,u.Z)({client:g},r),{},{children:e}))},v=r(6444),b=r(168),y=(0,v.vJ)(t||(t=(0,b.Z)(["\n    *,\n    *::after,\n    *::before {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n\n    body {\n        font-family: ",";\n        line-height: 1.625;\n        color: ",";\n\n        background-color: ",";\n    }\n"])),(function(n){return n.theme.font.primary}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.body})),j={colors:{text:"rgba(0, 0, 0, 0.87)",yellow:"#f4e041",blue:"#00bdd3",body:"#F8F8F8",white:"#fff"},font:{primary:"Nunito"},padding:{mobile:"0 1rem",tablet:"0 2rem",laptop:"0 2.5rem"},screens:{mobile:"360px",tablet:"768px",laptop:"1024px"}},w=["children"],Z=function(n){var e=n.children,r=(0,d.Z)(n,w);return(0,m.jsxs)(v.f6,(0,u.Z)((0,u.Z)({theme:j},r),{},{children:[(0,m.jsx)(y,{}),e]}))},k=r(8520),P=v.ZP.header(i||(i=(0,b.Z)(["\n    min-height: 60px;\n    height: 60px;\n    width: 100%;\n\n    padding-top: 0.75rem;\n    padding-bottom: 0.75rem;\n\n    display: flex;\n    align-items: center;\n\n    background-color: #fff;\n"]))),S=(0,v.ZP)(k.PQ)(a||(a=(0,b.Z)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    /* gap: 2rem; */\n"]))),F=function(){return(0,m.jsx)(P,{children:(0,m.jsxs)(S,{children:[(0,m.jsx)(k.TR,{}),(0,m.jsxs)(k.G,{gap:"10px",children:[(0,m.jsx)(k.Sn,{children:"Users"}),(0,m.jsx)(k.Sn,{children:"Sign up"})]})]})})},z=r.p+"static/media/bg-image.639d1e9ef2a6bfa27336.webp",I=r.p+"static/media/bg-image-360w.05a94fbb7a2bacb609b0.webp",q=r.p+"static/media/bg-image-768w.5cd2d4cb4275bb8e95fc.webp",T=r.p+"static/media/bg-image-1024w.efbb624124c64e1641fb.webp",_=(0,v.ZP)(k.PQ).attrs({as:"section"})(o||(o=(0,b.Z)(["\n    width: 100%;\n    max-width: 1170px;\n    height: 650px;\n    max-height: 650px;\n    min-height: 500px;\n\n    padding-top: 1rem;\n    padding-bottom: 1rem;\n\n    /* flex: 1 1 auto; */\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    background-image: linear-gradient(\n            0deg,\n            rgba(0, 0, 0, 0.5),\n            rgba(0, 0, 0, 0.5)\n        ),\n        url(",");\n\n    background-repeat: no-repeat;\n    background-position: center center;\n    background-size: cover;\n\n    @media (max-width: 1024px) {\n        height: clamp(500px, 65dvw, 650px);\n        background-image: linear-gradient(\n                0deg,\n                rgba(0, 0, 0, 0.5),\n                rgba(0, 0, 0, 0.5)\n            ),\n            url(",");\n    }\n\n    @media (max-width: 768px) {\n        background-image: linear-gradient(\n                0deg,\n                rgba(0, 0, 0, 0.5),\n                rgba(0, 0, 0, 0.5)\n            ),\n            url(",");\n    }\n\n    @media (max-width: 360px) {\n        background-image: linear-gradient(\n                0deg,\n                rgba(0, 0, 0, 0.5),\n                rgba(0, 0, 0, 0.5)\n            ),\n            url(",");\n    }\n"])),z,T,q,I),E=(0,v.ZP)(k.G)(s||(s=(0,b.Z)(["\n    max-width: 380px;\n    flex-direction: column;\n    flex: 1 1 auto;\n\n    color: #fff;\n\n    & > h1 {\n        margin-bottom: 1.25rem;\n    }\n\n    & > p {\n        margin-bottom: 2rem;\n    }\n"]))),X=function(){return(0,m.jsx)(_,{children:(0,m.jsxs)(E,{children:[(0,m.jsx)(k.X0,{children:"Test assignment for front-end developer"}),(0,m.jsx)(k.qY,{children:"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving."}),(0,m.jsx)(k.Sn,{children:"Sign up"})]})})},M=r(2791),N=(r(2610),r(5972),r(3441)),O=(0,v.ZP)(k.PQ).attrs({as:"section"})(c||(c=(0,b.Z)(["\n    width: 100%;\n    display: grid;\n    gap: 50px;\n    place-items: center;\n"]))),C=function(n){var e=n.title,r=n.content,t=(0,N.YD)({triggerOnce:!0,fallbackInView:!0,threshold:1}),i=t.ref,a=t.inView;return(0,m.jsxs)(O,{ref:i,children:[(0,m.jsx)(k.X0,{children:e}),a&&(0,m.jsx)(M.Suspense,{fallback:(0,m.jsx)("pre",{children:"Loading suspense..."}),children:r})]})},R=r(1454),L=(0,M.lazy)((function(){return Promise.resolve().then(r.bind(r,3584))})),A=function(){return(0,m.jsx)(C,{title:"Working with GET request",content:(0,m.jsx)(L,{renderSuccess:function(n){return(0,m.jsx)(R.to,{users:n})}})})},Q=(0,M.lazy)((function(){return Promise.resolve().then(r.bind(r,2610))})),U=function(){return(0,m.jsx)(C,{title:"Working with POST request",content:(0,m.jsx)(Q,{})})},D=(0,v.ZP)(k.G).attrs({as:"main"})(l||(l=(0,b.Z)(["\n    flex-direction: column;\n    gap: 140px;\n    padding-bottom: 100px;\n    width: 100%;\n    min-height: 100%;\n\n    /* flex: 1 1 auto; */\n\n    background-color: #f8f8f8;\n"]))),G=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(F,{}),(0,m.jsxs)(D,{children:[(0,m.jsx)(X,{}),(0,m.jsx)(A,{}),(0,m.jsx)(U,{})]})]})},W=function(){return(0,m.jsx)(x,{children:(0,m.jsx)(Z,{children:(0,m.jsx)(G,{})})})}},1454:function(n,e,r){r.d(e,{to:function(){return I},Zz:function(){return a.Zz},NZ:function(){return a.NZ}});var t,i,a=r(5126),o=r(1413),s=r(4925),c=r(8640),l=r(8520),u=r(184),d=["children"],p=function(n){var e,r=n.children,t=(0,s.Z)(n,d),i=(0,a.xY)(),p=i.isFetching,f=i.hasNextPage,m=i.fetchNextPage,h=(0,c.S)();return(0,u.jsx)(l.Sn,(0,o.Z)((0,o.Z)({onClick:function(){m()},disabled:!f||p||"pending"===(null===(e=h.at(-1))||void 0===e?void 0:e.status)},t),{},{children:r}))},f=(r(3584),r(2791)),m=r(168),h=r(6444),g=(0,h.ZP)(l.rg)(t||(t=(0,m.Z)(["\n    & *:not(img, a) {\n        display: block;\n        width: 100%;\n        overflow: hidden;\n        text-align: center;\n    }\n\n    & > div {\n        font-size: 0;\n    }\n\n    & a {\n        display: inline-block;\n        width: max-content;\n        max-width: 100%;\n\n        overflow-x: hidden;\n\n        text-decoration: none;\n        color: inherit;\n    }\n\n    & p,\n    a {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        text-align: center;\n        font-size: 1rem;\n    }\n"]))),x=h.ZP.span(i||(i=(0,m.Z)(['\n    display: none;\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    width: max-content;\n    max-width: calc(100% - 4rem);\n    padding: 0.25rem 1rem;\n\n    color: #fff;\n    text-overflow: ellipsis;\n\n    overflow: hidden;\n\n    border-radius: 0.25rem;\n    background: rgba(0, 0, 0, 0.87);\n\n    &[aria-hidden="false"] {\n        animation: fadeout 0.3s ease-in;\n        animation-delay: 0.5s;\n        animation-fill-mode: forwards;\n        /* opacity: 1; */\n    }\n\n    &[aria-hidden="true"] {\n        animation: appearance 0.3s ease-out;\n        /* animation-delay: 0.5s; */\n        animation-fill-mode: forwards;\n        /* opacity: 0; */\n    }\n\n    opacity: 0;\n\n    @keyframes appearance {\n        0% {\n            opacity: 1;\n        }\n        100% {\n            opacity: 0;\n        }\n    }\n\n    @keyframes fadeout {\n        0% {\n            opacity: 0;\n        }\n        100% {\n            opacity: 1;\n        }\n    }\n\n    @media (hover: hover) {\n        &:hover {\n            &::after {\n                /* visibility: "hidden";\n                opacity: 0; */\n                animation: appearance 1s ease-in;\n                /* animation-direction: reverse; */\n            }\n        }\n    }\n']))),v=r(4164),b=document.getElementById("modals-root");function y(n){var e=n.children;return v.createPortal(e,b)}var j,w,Z=function(n){var e=n.children,r=(0,f.useRef)(null);try{var t=f.Children.only(e);if(!f.isValidElement(t))return;var i=t.props,a=String(i.children);return(0,u.jsxs)(u.Fragment,{children:[f.cloneElement(t,{onMouseOver:function(n){if(r.current){var e=window.innerWidth,t=r.current;t.style.display="inline-block";var i=t.getBoundingClientRect(),a=n.currentTarget.getBoundingClientRect();t.setAttribute("aria-hidden","false"),n.clientX+(i.right-i.left)-16>e-32?(console.log("tooltip"),t.style.left="calc(".concat(e-32-(i.right-i.left),"px - 1rem)")):t.style.left="calc(".concat(n.clientX,"px - 1rem)"),t.style.top="calc(".concat(a.bottom,"px + 1rem)")}},onMouseLeave:function(){r.current&&r.current.setAttribute("aria-hidden","true")}}),(0,u.jsx)(y,{children:(0,u.jsx)(x,{"aria-hidden":"true",role:"tooltip",onAnimationEnd:function(){r.current&&("true"===r.current.getAttribute("aria-hidden")&&(r.current.style.display="none"))},ref:r,children:a})})]})}catch(o){return(0,u.jsx)(u.Fragment,{children:e})}},k=(0,f.memo)((function(n){var e=n.user;return(0,u.jsxs)(g,{children:[(0,u.jsx)("img",{src:e.photo,alt:e.name,loading:"lazy"}),(0,u.jsx)("p",{children:e.name}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:e.position}),(0,u.jsx)(Z,{children:(0,u.jsx)("a",{id:e.id.toString(),href:"mailto:".concat(e.email),target:"_blank",rel:"noreferrer",children:e.email})}),(0,u.jsx)("p",{children:e.phone})]})]})})),P=h.ZP.ul.attrs({role:"list"})(j||(j=(0,m.Z)(["\n    display: grid;\n    grid-template-columns: repeat(3, minmax(0, 370px));\n    gap: 30px;\n\n    @media (max-width: 1024px) {\n        grid-template-columns: repeat(2, minmax(0, 370px));\n    }\n\n    @media (max-width: 768px) {\n        grid-template-columns: minmax(0, 370px);\n    }\n"]))),S=(0,h.ZP)(l.rg)(w||(w=(0,m.Z)(["\n    grid-template-rows: max-content 1fr;\n"])));var F=r.p+"static/media/photo-cover.fb98cf13a87225efe558669bdc541ac7.svg",z=function(){return(0,u.jsxs)(S,{children:[(0,u.jsx)("img",{src:F,alt:"Default user photo"}),(0,u.jsx)("div",{children:(0,u.jsx)(l.Q,{})})]})},I=function(n){var e=n.users;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(P,{children:e.map((function(n){return void 0!==n?(0,u.jsx)(k,{user:n},n.id):(0,u.jsx)(z,{})}))}),(0,u.jsx)(p,{children:"Show more"})]})}},5126:function(n,e,r){r.d(e,{Zz:function(){return p},NZ:function(){return b},xY:function(){return j}});var t=r(4855),i=r(2089),a=r(4165),o=r(5861),s=r(1952),c=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e){var r,t,i,o;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.page,t=e.count,n.next=3,s.o.get("/users",{params:{page:r,count:t}});case 3:return i=n.sent,o=i.data,n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=r(885),u=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(){var e,r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.o.get("/token");case 2:return e=n.sent,r=e.data.token,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),d=function(){var n=(0,o.Z)((0,a.Z)().mark((function n(e){var r,t,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new FormData,Object.entries(e).forEach((function(n){var e=(0,l.Z)(n,2),t=e[0],i=e[1];r.append(t,i instanceof FileList?i[0]:i)})),n.t0=s.o,n.t1=r,n.next=6,u();case 6:return n.t2=n.sent,n.t3={Token:n.t2},n.t4={headers:n.t3},n.next=11,n.t0.post.call(n.t0,"/users",n.t1,n.t4);case 11:return t=n.sent,i=t.data,n.abrupt("return",i);case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.NL)();return(0,i.D)({mutationKey:["addUser"],mutationFn:function(n){return d(n)},onMutate:function(){n.setQueryData(["users","infinite"],(function(n){if(n)return{pages:n.pages.slice(0,1),pageParams:n.pageParams.slice(0,1)}}))},onSuccess:function(){n.invalidateQueries({queryKey:["users","infinite"],exact:!0,refetchType:"active"},{throwOnError:!0,cancelRefetch:!0})},onError:function(n){var e,r,t,i,a,o;null!==n&&void 0!==n&&null!==(e=n.response)&&void 0!==e&&null!==(r=e.data)&&void 0!==r&&r.fails?alert(Object.values(null===n||void 0===n||null===(t=n.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.fails).flatMap((function(n){return n.join(", ")})).join(", ")):alert((null===n||void 0===n||null===(a=n.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||(null===n||void 0===n?void 0:n.message))}})},f=r(1134),m=r(4942),h=r(1413),g=r(2791),x=r(4153),v=(0,x.Ry)({name:(0,x.Z_)().required("Name is required field").min(3,"Min length must be greater than 3 characters").max(60,"Max length must be less than 60 characters"),email:(0,x.Z_)().required("Email is required field").email("Invalid email address").min(3,"Min length must be greater than 3 characters").max(60,"Max length must be less than 60 characters"),phone:(0,x.Z_)().required("Phone is required field").matches(/^[+]{0,1}380([0-9]{9})$/,"Invalid format of phone number"),position_id:(0,x.Rx)().required().positive(),photo:(0,x.nK)().test("required","File is required field",(function(n){return n&&n[0]})).test("maxSize","File size exceeds the maximum limit (10MB)",(function(n){var e;return!n||!n[0]||(null===(e=n[0])||void 0===e?void 0:e.size)<=10485760})).test("minSize","Image size is smaller than the minimum limit (70px)",(function(n){return!n||!n[0]||new Promise((function(e){var r=new Image;r.onload=function(){var n=r.width,t=r.height;e(!(n<70||t<70))},r.onerror=function(){e(!1)},r.src=URL.createObjectURL(n[0])}))}))}),b=function(){var n=function(n){return(0,g.useCallback)(function(){var e=(0,o.Z)((0,a.Z)().mark((function e(r){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.validate(r,{abortEarly:!1});case 3:return t=e.sent,e.abrupt("return",{values:t,errors:{}});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{values:{},errors:null===e.t0||void 0===e.t0?void 0:e.t0.inner.reduce((function(n,e){var r;return(0,h.Z)((0,h.Z)({},n),{},(0,m.Z)({},e.path,{type:null!==(r=e.type)&&void 0!==r?r:"validation",message:e.message}))}),{})});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),[n])}(v);return(0,f.cI)({mode:"onChange",resolver:n,defaultValues:{name:"",email:"",phone:"+380",position_id:"1"}})},y=r(5835),j=function(){return(0,y.N)({queryKey:["users","infinite"],queryFn:function(n){var e=n.pageParam;return c(e)},defaultPageParam:{page:1,count:6},refetchOnWindowFocus:!1,refetchOnMount:!1,retry:3,getNextPageParam:function(n){return n.page<n.total_pages?{page:n.page+1,count:n.count}:void 0}})}},3584:function(n,e,r){r.r(e);var t=r(2982),i=r(8520),a=r(5126),o=r(184);e.default=function(n){var e=n.renderSuccess,r=n.loadingFallback,s=void 0===r?(0,o.jsx)(i.p9,{}):r,c=n.renderError,l=void 0===c?function(n){return(0,o.jsx)("pre",{children:n})}:c,u=(0,a.xY)(),d=u.data,p=u.status,f=u.error,m=u.isFetchingNextPage;if("error"===p)return l(f.message);if("pending"===p)return s;if(d&&d.pages&&0!==d.pages.length){console.log(new Array(6).map((function(n,e){return{}})));var h=d.pages.flatMap((function(n){return null===n||void 0===n?void 0:n.users})).sort((function(n,e){return e.registration_timestamp-n.registration_timestamp}));return e(m?[].concat((0,t.Z)(h),(0,t.Z)(Array(6))):h)}return(0,o.jsx)(o.Fragment,{})}},2610:function(n,e,r){r.r(e),r.d(e,{default:function(){return h}});var t=r(1413),i=r(885),a=r(1454),o=r(8520),s=r(7590),c=r(4165),l=r(5861),u=r(1952),d=function(){var n=(0,l.Z)((0,c.Z)().mark((function n(){var e,r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.o.get("/positions");case 2:return e=n.sent,r=e.data.positions,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=r(184),f=function(n){var e=n.renderSuccess,r=n.loadingFallback,t=void 0===r?(0,p.jsx)(o.Q,{}):r,i=n.renderError,a=void 0===i?function(n){return(0,p.jsx)("pre",{children:JSON.stringify(n)})}:i,c=(0,s.a)({queryKey:["positions"],queryFn:d,refetchOnWindowFocus:!1,retry:3}),l=c.data,u=c.status,f=c.error;return"error"===u?a(f.message):"pending"===u?t:l&&0!==l.length?e(l):(0,p.jsx)(p.Fragment,{})},m=r(5972),h=function(){var n=(0,a.NZ)(),e=n.register,r=n.formState,s=r.errors,c=s.name,l=s.email,u=s.phone,d=s.photo,h=r.isValid,g=n.handleSubmit,x=(0,a.Zz)(),v=x.mutate,b=x.isSuccess,y=x.isPending;return(0,p.jsx)(p.Fragment,{children:b?(0,p.jsx)(o.MY,{}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(m.G,{id:"create-user-form",onSubmit:g((function(n){v(n)})),encType:"multipart/form-data",children:[(0,p.jsxs)("fieldset",{children:[(0,p.jsx)(o.II,(0,t.Z)({label:"your name","aria-invalid":!!c,errorText:null===c||void 0===c?void 0:c.message},e("name"))),(0,p.jsx)(o.II,(0,t.Z)({type:"email",label:"email","aria-invalid":!!l,errorText:null===l||void 0===l?void 0:l.message},e("email"))),(0,p.jsx)(o.II,(0,t.Z)({type:"tel",label:"phone","aria-invalid":!!u,helperText:"+38 (XXX) XXX - XX - XX",errorText:null===u||void 0===u?void 0:u.message},e("phone")))]}),(0,p.jsx)("fieldset",{children:(0,p.jsx)(f,{renderSuccess:function(n){return(0,p.jsx)(p.Fragment,{children:n.map((function(n){return(0,p.jsx)(o.II,(0,t.Z)({type:"radio",label:n.name,value:n.id},e("position_id")),n.id)}))})}})}),(0,p.jsx)(o.II,(0,t.Z)({type:"file",accept:"image/jpg, image/jpeg, image/png",multiple:!1,"aria-invalid":!!d,errorText:null===d||void 0===d?void 0:d.message},e("photo",{onChange:function(n){var e=document.getElementById("photo-name");if(e){var r=Array.from(n.target.files),t=(0,i.Z)(r,1)[0];e.innerText=t?null===t||void 0===t?void 0:t.name:"Upload your image"}}})))]}),(0,p.jsx)(o.Sn,{type:"submit",form:"create-user-form",disabled:!h||y,children:"Sign up"})]})})}},5972:function(n,e,r){r.d(e,{G:function(){return a}});var t,i=r(168),a=r(6444).ZP.form(t||(t=(0,i.Z)(["\n    width: 100%;\n    max-width: 380px;\n\n    display: grid;\n    gap: 50px;\n    grid-template-columns: minmax(0, 1fr);\n    /* overflow: hidden; */\n\n    & > fieldset {\n        display: grid;\n\n        border: none;\n    }\n\n    & > fieldset:nth-child(1) {\n        gap: 50px;\n    }\n\n    & > fieldset:nth-child(2) {\n        gap: 0.5rem;\n    }\n"])))},1952:function(n,e,r){r.d(e,{o:function(){return i}});var t=r(2388);t.Z.defaults.baseURL="https://frontend-test-assignment-api.abz.agency/api/v1",t.Z.defaults.timeout=5e3;var i=t.Z}}]);
//# sourceMappingURL=141.42bbf181.chunk.js.map